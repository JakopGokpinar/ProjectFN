{"ast":null,"code":"import { instanceAxs } from \"../config/api\";\nimport { userActions } from \"./userSlice\";\nexport const sendSignUpRequest = user => {\n  return async dispatch => {\n    const handleRequest = async () => {\n      dispatch(userActions.setWaiting(true));\n      instanceAxs.post('/signup', user).then(response => {\n        const responseMsg = response.data.message;\n        if (responseMsg === 'user created') {\n          const user = response.data.user;\n          window.localStorage.setItem('user', JSON.stringify(user));\n          window.localStorage.setItem('isLoggedIn', true);\n          dispatch(userActions.login(user));\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n      dispatch(userActions.setWaiting(false));\n    };\n    await handleRequest();\n  };\n};\nexport const sendLoginRequest = user => {\n  return async dispatch => {\n    const handleRequest = async () => {\n      instanceAxs.post('/login', user).then(response => {\n        const responseMsg = response.data.message;\n        if (responseMsg === 'user logged in') {\n          const user = response.data.user;\n          window.localStorage.setItem('user', JSON.stringify(user));\n          window.localStorage.setItem('isLoggedIn', true);\n          dispatch(userActions.login(user));\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n    await handleRequest();\n  };\n};\nexport const googleLoginRequest = credentials => {\n  return async dispatch => {\n    const handleRequest = async () => {\n      instanceAxs.post('/google/auth', credentials).then(response => {\n        const responseMsg = response.data.message;\n        if (responseMsg === 'User logged in') {\n          const user = response.data.user;\n          window.localStorage.setItem('user', JSON.stringify(user));\n          window.localStorage.setItem('isLoggedIn', true);\n          dispatch(userActions.login(user));\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n    await handleRequest();\n  };\n};\nexport const logoutRequest = () => {\n  return async dispatch => {\n    const handleRequest = async () => {\n      instanceAxs.delete('/logout').then(response => {\n        const responseMsg = response.data;\n        if (responseMsg === 'user logged out') {\n          window.localStorage.removeItem('user');\n          window.localStorage.removeItem('isLoggedIn');\n          dispatch(userActions.logout());\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n    await handleRequest();\n  };\n};","map":{"version":3,"names":["instanceAxs","userActions","sendSignUpRequest","user","dispatch","handleRequest","setWaiting","post","then","response","responseMsg","data","message","window","localStorage","setItem","JSON","stringify","login","catch","error","console","log","sendLoginRequest","googleLoginRequest","credentials","logoutRequest","delete","removeItem","logout"],"sources":["/home/tolga/VS Code workspace/BrukthÃ¥nd/secondhand/src/features/userSliceActions.js"],"sourcesContent":["import { instanceAxs } from \"../config/api\";\nimport { userActions } from \"./userSlice\";\n\nexport const sendSignUpRequest = (user) => {\n    return async (dispatch) => {\n        const handleRequest = async () => {\n            dispatch(userActions.setWaiting(true))\n            instanceAxs.post('/signup', user).then(response => {\n\n                const responseMsg = response.data.message;\n                if(responseMsg === 'user created') {\n                    const user = response.data.user;\n                    window.localStorage.setItem('user', JSON.stringify(user));\n                    window.localStorage.setItem('isLoggedIn', true)\n                    dispatch(userActions.login(user))\n                }\n\n            }).catch(error => {\n                console.log(error)\n            })\n            dispatch(userActions.setWaiting(false))\n\n        }\n        await handleRequest();\n    }\n}\n\nexport const sendLoginRequest = (user) => {\n    return async (dispatch) => {\n        const handleRequest = async () => {\n            instanceAxs.post('/login', user).then(response => {\n\n                const responseMsg = response.data.message;\n                if(responseMsg === 'user logged in') {\n                    const user = response.data.user;\n                    window.localStorage.setItem('user', JSON.stringify(user));\n                    window.localStorage.setItem('isLoggedIn', true)\n                    dispatch(userActions.login(user))\n                }\n\n            }).catch(error => {\n                console.log(error)\n            })\n        }\n        await handleRequest();\n    }\n}\n\nexport const googleLoginRequest = (credentials) => {\n    return async (dispatch) => {\n        const handleRequest = async () => {\n            instanceAxs.post('/google/auth', credentials).then(response => {\n\n                const responseMsg = response.data.message;\n                if(responseMsg === 'User logged in') {\n                    const user = response.data.user;\n                    window.localStorage.setItem('user', JSON.stringify(user));\n                    window.localStorage.setItem('isLoggedIn', true)\n                    dispatch(userActions.login(user))\n                }\n\n            }).catch(error => {\n                console.log(error)\n            })\n        }\n        await handleRequest();\n    }\n}\n\nexport const logoutRequest = () => {\n    return async (dispatch) => {\n        const handleRequest = async () => {\n            instanceAxs.delete('/logout').then(response => {\n\n                const responseMsg = response.data;\n                if(responseMsg === 'user logged out') {\n                    window.localStorage.removeItem('user');\n                    window.localStorage.removeItem('isLoggedIn')\n                    dispatch(userActions.logout())\n                }\n\n            }).catch(error => {\n                console.log(error)\n            })\n        }\n        await handleRequest();\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}